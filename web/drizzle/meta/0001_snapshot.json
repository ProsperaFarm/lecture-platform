{
  "id": "6873bdde-c429-4f39-95cf-e364eb3cd901",
  "prevId": "bed09a2e-a5f8-4825-93dd-5aa773f7f861",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.course_materials": {
      "name": "course_materials",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "courseId": {
          "name": "courseId",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "lessonId": {
          "name": "lessonId",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "type": {
          "name": "type",
          "type": "enum('pdf','slide','document','other')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "fileUrl": {
          "name": "fileUrl",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "fileKey": {
          "name": "fileKey",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "fileSize": {
          "name": "fileSize",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "mimeType": {
          "name": "mimeType",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "courseId_idx": {
          "name": "courseId_idx",
          "columns": [
            "courseId"
          ],
          "isUnique": false
        },
        "lessonId_idx": {
          "name": "lessonId_idx",
          "columns": [
            "lessonId"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "course_materials_id": {
          "name": "course_materials_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "courses": {
      "name": "courses",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "courseId": {
          "name": "courseId",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "acronym": {
          "name": "acronym",
          "type": "varchar(16)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "thumbnail": {
          "name": "thumbnail",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "totalVideos": {
          "name": "totalVideos",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
"compositePrimaryKeys": {
        "courses_id": {
          "name": "courses_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "courses_courseId_unique": {
          "name": "courses_courseId_unique",

          "columns": [
            "courseId"
          ]
        }
      },
"checkConstraint": {}
    },
    "lessons": {
      "name": "lessons",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true

        },
        "lessonId": {
          "name": "lessonId",
          "type": "varchar(128)",
          "primaryKey": false,
"notNull": true,
          "autoincrement": false

        },
        "courseId": {
          "name": "courseId",
          "type": "varchar(128)",
          "primaryKey": false,
"notNull": true,
          "autoincrement": false

        },
        "moduleId": {
          "name": "moduleId",
          "type": "varchar(128)",
          "primaryKey": false,
"notNull": true,
          "autoincrement": false

        },
        "moduleName": {
          "name": "moduleName",
          "type": "text",
          "primaryKey": false,
"notNull": false,
          "autoincrement": false

        },
        "sectionId": {
          "name": "sectionId",
          "type": "varchar(128)",
          "primaryKey": false,
"notNull": true,
          "autoincrement": false

        },
        "sectionName": {
          "name": "sectionName",
          "type": "text",
          "primaryKey": false,
"notNull": false,
          "autoincrement": false

        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
"notNull": true,
          "autoincrement": false

        },
        "youtubeUrl": {
          "name": "youtubeUrl",
          "type": "text",
          "primaryKey": false,
"notNull": false,
          "autoincrement": false
        },
        "type": {
          "name": "type",
          "type": "enum('video','live')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,

          "default": "'video'"
        },
        "order": {
          "name": "order",
"type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,

          "default": 0
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
"autoincrement": false,
          "default": "(now())"

        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
"autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "courseId_idx": {
          "name": "courseId_idx",
          "columns": [
            "courseId"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "lessons_id": {
          "name": "lessons_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "lessons_lessonId_unique": {
          "name": "lessons_lessonId_unique",

          "columns": [
            "lessonId"
          ]
        }
      },
"checkConstraint": {}
    },
    "ratings": {
      "name": "ratings",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "userId": {
          "name": "userId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "targetType": {
          "name": "targetType",
          "type": "enum('lesson','course')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false

        },
        "targetId": {
          "name": "targetId",
          "type": "varchar(128)",
          "primaryKey": false,
"notNull": true,
          "autoincrement": false
        },
        "ratingType": {
          "name": "ratingType",
          "type": "enum('like','dislike','stars')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "stars": {
          "name": "stars",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false

        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
"autoincrement": false,
          "default": "(now())"

        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
"autoincrement": false,
          "onUpdate": true,
          "default": "(now())"

        }
      },
      "indexes": {
        "target_idx": {
          "name": "target_idx",
          "columns": [
"targetType",
            "targetId"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "ratings_id": {
          "name": "ratings_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "user_target_idx": {
          "name": "user_target_idx",

          "columns": [
            "userId",
            "targetType",
            "targetId"
          ]
        }
      },
"checkConstraint": {}
    },
    "user_notes": {
      "name": "user_notes",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "userId": {
          "name": "userId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false

        },
        "lessonId": {
          "name": "lessonId",
          "type": "varchar(128)",
          "primaryKey": false,
"notNull": true,
          "autoincrement": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false

        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
"notNull": true,
          "autoincrement": false

        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
"autoincrement": false,
          "default": "(now())"

        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
"autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {
        "user_lesson_idx": {
          "name": "user_lesson_idx",
          "columns": [
            "userId",
            "lessonId"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "user_notes_id": {
          "name": "user_notes_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "user_progress": {
      "name": "user_progress",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "userId": {
          "name": "userId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false

        },
        "lessonId": {
          "name": "lessonId",
          "type": "varchar(128)",
          "primaryKey": false,
"notNull": true,
          "autoincrement": false

        },
        "courseId": {
          "name": "courseId",
          "type": "varchar(128)",
          "primaryKey": false,
"notNull": true,
          "autoincrement": false

        },
        "completed": {
          "name": "completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
"autoincrement": false,

          "default": false
        },
        "lastWatchedPosition": {
          "name": "lastWatchedPosition",
"type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,

          "default": 0
        },
        "watchedAt": {
          "name": "watchedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
"autoincrement": false,
          "default": "(now())"

        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
"autoincrement": false,
          "onUpdate": true,
          "default": "(now())"

        }
      },
      "indexes": {
        "userId_idx": {
          "name": "userId_idx",
          "columns": [
"userId"
          ],
          "isUnique": false
        },
        "courseId_idx": {
          "name": "courseId_idx",
          "columns": [
            "courseId"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "user_progress_id": {
          "name": "user_progress_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "user_lesson_idx": {
          "name": "user_lesson_idx",

          "columns": [
            "userId",
            "lessonId"
          ]
        }
      },
"checkConstraint": {}
    },
    "users": {
      "name": "users",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true

        },
        "openId": {
          "name": "openId",
          "type": "varchar(64)",
          "primaryKey": false,
"notNull": true,
          "autoincrement": false

        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
"notNull": false,
          "autoincrement": false

        },
        "email": {
          "name": "email",
          "type": "varchar(320)",
          "primaryKey": false,
"notNull": false,
          "autoincrement": false

        },
        "loginMethod": {
          "name": "loginMethod",
          "type": "varchar(64)",
          "primaryKey": false,
"notNull": false,
          "autoincrement": false
        },
        "role": {
          "name": "role",
          "type": "enum('user','admin')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,

          "default": "'user'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
"autoincrement": false,
          "default": "(now())"

        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
"autoincrement": false,
          "onUpdate": true,
          "default": "(now())"

        },
        "lastSignedIn": {
          "name": "lastSignedIn",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
"autoincrement": false,
          "default": "(now())"

        }
      },
      "indexes": {},
      "foreignKeys": {},
"compositePrimaryKeys": {
        "users_id": {
          "name": "users_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "users_openId_unique": {
          "name": "users_openId_unique",

          "columns": [
            "openId"
          ]
        }
      },
"checkConstraint": {}
    },
    "video_transcripts": {
      "name": "video_transcripts",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true

        },
        "lessonId": {
          "name": "lessonId",
          "type": "varchar(128)",
          "primaryKey": false,
"notNull": true,
          "autoincrement": false

        },
        "transcript": {
          "name": "transcript",
          "type": "text",
          "primaryKey": false,
"notNull": true,
          "autoincrement": false

        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
"notNull": false,
          "autoincrement": false

        },
        "keywords": {
          "name": "keywords",
          "type": "text",
          "primaryKey": false,
"notNull": false,
          "autoincrement": false

        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
"autoincrement": false,
          "default": "(now())"

        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
"autoincrement": false,
          "onUpdate": true,
          "default": "(now())"

        }
      },
      "indexes": {},
      "foreignKeys": {},
"compositePrimaryKeys": {
        "video_transcripts_id": {
          "name": "video_transcripts_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "video_transcripts_lessonId_unique": {
          "name": "video_transcripts_lessonId_unique",

          "columns": [
            "lessonId"
          ]
        }
      },
"checkConstraint": {}
    }
  },
  "views": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "tables": {},
    "indexes": {}
  }
}